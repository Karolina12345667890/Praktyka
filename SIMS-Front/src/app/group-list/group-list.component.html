<div class="container text-center" style="margin-top: 70px">
  <div class="display-4">Grupy</div>
  <br>


<button *ngIf="isAdmin" class="btn btn-success" (click)="openAddDialog()">Dodaj Nowa Grupe </button>
  <br>  <br>
</div>

<div *ngIf="pager.pages && pager.pages.length" style="margin-left: 5%" class="btn-group  " role="group">
    <button type="button" class="btn btn-secondary" (click)="setPage(1)">Pierwsza</button>
    <button type="button" class="btn btn-secondary" (click)="setPage(pager.currentPage - 1)">Poprzednia</button>
    <button *ngFor="let page of pager.pages" type="button" class="btn btn-secondary" (click)="setPage(page)" [ngStyle]="pager.currentPage === page && {'background-color':'#0275d8'}">{{page}}</button>
    <button type="button" class="btn btn-secondary" (click)="setPage(pager.currentPage + 1)">Następna</button>
    <button type="button" class="btn btn-secondary" (click)="setPage(pager.totalPages)">Ostatnia</button>
</div>

<table class="table table-hover table-striped ">

  <thead class="thead-dark">
  <tr>
   <th style="width: 15%">
     Nazwa
   </th>
    <th style="width: 10%">
      Forma studiów
    </th>
    <th style="width: 15%">
      Kierunek
    </th>
    <th (click)="sortStartDate()" style="width: 10%">
      Data startu
    </th>
    <th style="width: 10%">
      Czas trwania w tygodniach
    </th>

    <th (click)="sortStatus()" style="width: 15%">
      Status
    </th>
    <th>

    </th>
  </tr>
  </thead>
  <tbody >
  <tr *ngFor="let item of pagedItems ">
    <td>
      {{ item.groupName}}
    </td>
    <td>
      <div *ngIf="item.formOfStudy === 'FdivL_TIME'; then ft else pt"></div>
      <ng-template #ft>  Stacjonarne </ng-template>
      <ng-template #pt>  Niestacjonarne </ng-template>

    </td>
    <td>
      {{ item.fieldOfStudy}}
    </td>
    <td>
      {{  item.startDate}}
    </td>
    <td>
      {{ item.durationInWeeks}}
    </td>



    <td class="docs"
        [ngStyle]="item.isOpen == true && {'background-color':'#42A948'} " >
<!--      {{ item.controls.isOpen.value}}-->

      <div *ngIf="item.isOpen; then thenBlock else elseBlock"></div>
      <ng-template #thenBlock> <div  class="text-center"> Otwarta </div></ng-template>
      <ng-template #elseBlock> <div class="text-center"> Zamknieta </div></ng-template>



    </td>
    <td>
      <div *ngIf="isAdmin">
      <button class="btn btn-warning" (click)="openEditDialog(item)">Edytuj </button>
      <button class="btn btn-primary" (click)="openStudentList(item.id)">Zobacz </button>
        <div class="changed d-inline float-right" *ngIf="item.changed">!</div>
    </div>
      <div *ngIf="!isAdmin">
        <button class="btn btn-success" (click)="joinGroup(item.id)">Dołącz </button>
      </div>
    </td>
  </tr>


  </tbody>

</table>
<div *ngIf="pager.pages && pager.pages.length" style="margin-left: 5%" class="btn-group  " role="group">
  <button type="button" class="btn btn-secondary" (click)="setPage(1)">Pierwsza</button>
  <button type="button" class="btn btn-secondary" (click)="setPage(pager.currentPage - 1)">Poprzednia</button>
  <button *ngFor="let page of pager.pages" type="button" class="btn btn-secondary" (click)="setPage(page)" [ngStyle]="pager.currentPage === page && {'background-color':'#0275d8'}">{{page}}</button>
  <button type="button" class="btn btn-secondary" (click)="setPage(pager.currentPage + 1)">Następna</button>
  <button type="button" class="btn btn-secondary" (click)="setPage(pager.totalPages)">Ostatnia</button>
</div>

